<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>免分心搜索启动器</title>
    <link
      rel="preconnect"
      href="https://fonts.googleapis.com"
      crossorigin
    />
    <link
      rel="preconnect"
      href="https://fonts.gstatic.com"
      crossorigin
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
    <style>
      :root {
        font-family: "Inter", "PingFang SC", "Microsoft YaHei", system-ui, -apple-system,
          BlinkMacSystemFont, "Segoe UI", sans-serif;
      }
      body {
        min-height: 100vh;
        background: radial-gradient(circle at top, #1f2937 0%, #0f172a 60%, #020617 100%);
      }
      .fade-in {
        animation: fadeIn 0.8s ease forwards;
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
    </style>
  </head>
  <body class="text-slate-50 flex items-center justify-center px-4 py-10">
    <main
      class="w-full max-w-lg bg-slate-900/80 backdrop-blur-lg border border-slate-800 rounded-3xl shadow-2xl shadow-blue-900/20 p-8 space-y-8 fade-in"
    >
      <header class="space-y-4 text-center">
        <p class="text-sm tracking-[0.25em] uppercase text-blue-400">Focus Mode</p>
        <h1 class="text-3xl font-semibold text-white">免分心搜索启动器</h1>
        <p class="text-slate-400 text-sm">
          输入关键词，直达目标平台搜索结果。保持专注，不被信息流打扰。
        </p>
      </header>

      <section class="space-y-4">
        <label for="keyword" class="text-sm font-medium text-slate-300 tracking-wide"
          >搜索关键词</label
        >
        <div class="relative">
          <input
            id="keyword"
            type="text"
            placeholder="支持中文，回车默认搜索知乎"
            class="w-full rounded-2xl bg-slate-800/80 border border-slate-700 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/40 px-5 py-4 text-base placeholder-slate-500 transition"
            autofocus
          />
          <button
            id="clearInput"
            class="absolute right-4 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-300 transition"
            aria-label="清除输入"
          >
            ✕
          </button>
        </div>
      </section>

      <section aria-label="搜索平台" class="space-y-3">
        <div class="flex items-center justify-between text-slate-400 text-xs uppercase tracking-[0.3em]">
          <span>快速跳转</span>
          <span>新标签页打开</span>
        </div>
        <div id="platformGrid" class="grid grid-cols-2 gap-3"></div>
      </section>

      <footer class="text-center text-xs text-slate-500">
        默认回车搜索：<span class="text-blue-400 font-medium">知乎</span> · 支持移动端 & 桌面端
      </footer>
    </main>

    <div
      id="toast"
      class="fixed left-1/2 -translate-x-1/2 bottom-6 bg-white/10 border border-white/20 text-white px-4 py-3 rounded-2xl text-sm shadow-lg backdrop-blur-md opacity-0 pointer-events-none transition"
      role="status"
      aria-live="polite"
    ></div>

    <script>
      const DEFAULT_PLATFORM = "zhihu";
      const platforms = [
        {
          id: "zhihu",
          label: "知乎",
          url: (q) => `https://www.zhihu.com/search?type=content&q=${q}`,
          className: "bg-blue-600 hover:bg-blue-500",
        },
        {
          id: "xiaohongshu",
          label: "小红书",
          url: (q) => `https://www.xiaohongshu.com/search_result?keyword=${q}`,
          className: "bg-red-500 hover:bg-red-400",
        },
        {
          id: "weibo",
          label: "微博",
          url: (q) => `https://s.weibo.com/weibo?q=${q}`,
          className: "bg-yellow-500 text-slate-900 hover:bg-yellow-400",
        },
        {
          id: "bilibili",
          label: "哔哩哔哩",
          url: (q) => `https://search.bilibili.com/all?keyword=${q}`,
          className: "bg-pink-600 hover:bg-pink-500",
        },
        {
          id: "taobao",
          label: "淘宝",
          url: (q) => `https://s.taobao.com/search?q=${q}`,
          className: "bg-orange-500 hover:bg-orange-400",
        },
        {
          id: "pinduoduo",
          label: "拼多多",
          url: (q) =>
            `https://mobile.yangkeduo.com/search_result.html?search_key=${q}`,
          className: "bg-rose-500 hover:bg-rose-400",
        },
        {
          id: "xianyu",
          label: "闲鱼",
          url: (q) => `https://s.m.taobao.com/search.htm?q=${q}&tab=idleFish`,
          className: "bg-emerald-600 hover:bg-emerald-500",
        },
        {
          id: "jd",
          label: "京东",
          url: (q) => `https://search.jd.com/Search?keyword=${q}`,
          className: "bg-purple-600 hover:bg-purple-500",
        },
      ];

      const keywordInput = document.getElementById("keyword");
      const clearBtn = document.getElementById("clearInput");
      const toast = document.getElementById("toast");
      const platformGrid = document.getElementById("platformGrid");

      function showToast(message) {
        toast.textContent = message;
        toast.classList.remove("opacity-0");
        toast.classList.add("opacity-100");
        toast.style.pointerEvents = "auto";
        clearTimeout(showToast.timer);
        showToast.timer = setTimeout(() => {
          toast.classList.add("opacity-0");
          toast.classList.remove("opacity-100");
          toast.style.pointerEvents = "none";
        }, 2200);
      }

      function getQuery() {
        return keywordInput.value.trim();
      }

      function openSearch(platformId) {
        const query = getQuery();
        if (!query) {
          showToast("请输入关键词再搜索");
          keywordInput.focus();
          return;
        }

        const platform = platforms.find((p) => p.id === platformId) || platforms[0];
        const url = platform.url(encodeURIComponent(query));
        window.open(url, "_blank", "noopener");
      }

      function renderButtons() {
        const fragment = document.createDocumentFragment();
        platforms.forEach((platform) => {
          const button = document.createElement("button");
          button.type = "button";
          button.dataset.platform = platform.id;
          button.className = [
            "w-full h-14 rounded-2xl text-base font-semibold flex items-center justify-center gap-2 shadow-lg shadow-black/20 transition focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-900 focus:ring-white/50",
            platform.className,
            platform.id === DEFAULT_PLATFORM ? "ring-2 ring-white/60" : "",
          ]
            .filter(Boolean)
            .join(" ");
          button.textContent = platform.label;
          button.addEventListener("click", () => openSearch(platform.id));
          fragment.appendChild(button);
        });
        platformGrid.appendChild(fragment);
      }

      keywordInput.addEventListener("keydown", (event) => {
        if (event.key === "Enter") {
          event.preventDefault();
          openSearch(DEFAULT_PLATFORM);
        }
      });

      clearBtn.addEventListener("click", () => {
        keywordInput.value = "";
        keywordInput.focus();
      });

      renderButtons();
    </script>
  </body>
</html>

